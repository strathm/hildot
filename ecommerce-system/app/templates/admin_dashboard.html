{% extends 'base.html' %}

{% block title %}Admin Dashboard | Spare Parts & Farm Equipment Store{% endblock %}

{% block content %}
<div class="container">
    <h1 class="my-4 text-center">Admin Dashboard</h1>

    <!-- Admin Dashboard Overview -->
    <div class="row">
        <!-- Total Products -->
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card text-white bg-info h-100">
                <div class="card-body">
                    <h5 class="card-title">Total Products</h5>
                    <p class="card-text">{{ total_products }}</p>
                    <a href="/admin/products" class="btn btn-light">View Products</a>
                </div>
            </div>
        </div>

        <!-- Total Orders -->
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card text-white bg-success h-100">
                <div class="card-body">
                    <h5 class="card-title">Total Orders</h5>
                    <p class="card-text">{{ total_orders }}</p>
                    <a href="/admin/orders" class="btn btn-light">View Orders</a>
                </div>
            </div>
        </div>

        <!-- Out of Stock Products -->
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card text-white bg-warning h-100">
                <div class="card-body">
                    <h5 class="card-title">Out of Stock</h5>
                    <p class="card-text">{{ out_of_stock_count }}</p>
                    <a href="/admin/manage-products" class="btn btn-light">Manage Stock</a>
                </div>
            </div>
        </div>

        <!-- New Requests -->
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card text-white bg-danger h-100">
                <div class="card-body">
                    <h5 class="card-title">New Requests</h5>
                    <p class="card-text">{{ new_requests }}</p>
                    <a href="/admin/manage-requests" class="btn btn-light">View Requests</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row my-4">
        <div class="col-lg-6">
            <div class="card">
                <div class="card-header">
                    <h5 class="m-0">Quick Actions</h5>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="/admin/add-product" class="list-group-item list-group-item-action">
                            <i class="fas fa-plus-circle"></i> Add New Product
                        </a>
                       <!-- <a href="/admin/manage-users" class="list-group-item list-group-item-action">
                            <i class="fas fa-users-cog"></i> Manage Users
                        </a>-->
                       <!-- <a href="/admin/manage-orders" class="list-group-item list-group-item-action">
                            <i class="fas fa-truck-loading"></i> Manage Orders
                        </a>-->
                        <!-- <a href="/admin/manage-stock" class="list-group-item list-group-item-action">
    <i class="fas fa-cogs"></i> Manage Stock
</a> -->

                        <a href="/admin/products-attention" class="list-group-item list-group-item-action">
                            <i class="fas fa-exclamation-circle"></i> Products That Need Attention & Requested Items
                        </a>
                        <a href="{{ url_for('main.view_stock_logs') }}" class="list-group-item list-group-item-action">
                            <i class="fas fa-clipboard-list"></i> View Stock Logs
                        </a>
                        <!-- New Links Added -->
                        <a href="{{ url_for('main.select_items') }}" class="list-group-item list-group-item-action">
                            <i class="fas fa-shopping-cart"></i> Select Items for Customer
                        </a>
                        <a href="{{ url_for('main.search_invoice') }}" class="list-group-item list-group-item-action">
                            <i class="fas fa-eye"></i> View Invoice/Receipt
                        </a>
                        
                       
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="col-lg-6">
            <div class="card">
                <div class="card-header">
                    <h5 class="m-0">Recent Activity</h5>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        {% for activity in recent_activities %}
                        <li class="mb-2">
                            <i class="fas fa-circle text-success"></i> 
                            {{ activity.message }} <span class="text-muted">({{ activity.timestamp }})</span>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Print Items Needed -->
  <!--  <div class="row my-4">
        <div class="col-lg-12 text-center">
            <a href="{{ url_for('main.print_items_needed') }}" class="btn btn-primary">
                <i class="fas fa-print"></i> Print Items Needed
            </a>
        </div>
    </div>-->

</div>
{% endblock %}
